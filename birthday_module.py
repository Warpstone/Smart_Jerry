# -*- coding: utf-8 -*-
# pylint: disable=non-ascii-bytes

from datetime import datetime, timedelta

# –°–ø–∏—Å–æ–∫ –¥–Ω–µ–π —Ä–æ–∂–¥–µ–Ω–∏—è
BIRTHDAYS = {
    (1, 24): "–±–∞–±—É—à–∫–∞ –õ—é–¥–∞ (–ê–Ω—è)",
    (1, 24): "–ê–Ω–¥—Ä–µ–π –ê–Ω–∞—Ç–æ–ª—å–µ–≤–∏—á, –ê–Ω–∏–Ω –ø–∞–ø–∞",
    (1, 29): "–ê–Ω—Ç–æ–Ω –ü–∞–≤–ª–æ–≤–∏—á –ß–µ—Ö–æ–≤",
    (2, 4): "—Ç. –ì–∞–ª—è",
    (2, 16): "–ê–Ω–¥—Ä–µ–π, –º—á –±–∞–±—É—à–∫–∏ –õ—é–¥—ã",
    (5, 26): "–¥. –ü–µ—Ç—è", 
    (6, 9): "–°—Ç–∞—Å –ò–≥–Ω–∞—Ç–æ–≤",
    (6, 16): "–ú–æ–π",
    (6, 28): "–í–∏—Ç—è –∞—Ä—Ç –∏–∑ –ì—Ä—É–∑–∏–∏",
    (7, 14): "–ò—Ä–∏–Ω–∞ –î–∏–≥–æ–≤–Ω–∞",
    (7, 15): "–¥–≤–æ—é—Ä–æ–¥–Ω—ã–π –±—Ä–∞—Ç –î–∏–º–∞",
    (7, 21): "–ú–∞—Ä–∫, —Å—ã–Ω –¥–≤–æ—é—Ä–æ–¥–Ω–æ–π —Å–µ—Å—Ç—Ä—ã –°–≤–µ—Ç—ã",
    (10, 2): "–ú–∞–º–∞",
    (10, 3): "–¥. –ñ–µ–Ω—è",
    (10, 4): "–¥–≤–æ—é—Ä–æ–¥–Ω–∞—è —Å–µ—Å—Ç—Ä–∞ –°–≤–µ—Ç–∞",
    (10, 8): "–°–≤–µ—Ç–∞ –ö–æ–∂–µ–≤–Ω–∏–∫–æ–≤–∞",
    (10, 9): "–ï–ª–µ–Ω–∞ –ê–Ω–∞—Ç–æ–ª—å–µ–≤–Ω–∞",
    (11, 21): "–¥–≤–æ—é—Ä–æ–¥–Ω—ã–π –±—Ä–∞—Ç –ú–∏—à–∞ (–Ω—ã–Ω–µ –ø–æ–∫–æ–π–Ω—ã–π)",
    (12, 10): "–ê–Ω—é—Ç–∞",
    (12, 24): "–†–æ–¥–∏–æ–Ω"
}

def get_birthday_reminder():
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ"""
    today = datetime.now()
    current_month = today.month
    current_day = today.day
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è —Å–µ–≥–æ–¥–Ω—è
    birthday_today = check_birthday_today(current_month, current_day)
    if birthday_today:
        return birthday_today
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∑–∞ 3 –¥–Ω—è –∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –¥–æ –¥–Ω—è —Ä–æ–∂–¥–µ–Ω–∏—è
    reminder = check_upcoming_birthdays(current_month, current_day)
    if reminder:
        return reminder
    
    return None

def check_birthday_today(month, day):
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è —Å–µ–≥–æ–¥–Ω—è"""
    if (month, day) in BIRTHDAYS:
        name = BIRTHDAYS[(month, day)]
        return f"üéÇ –°–µ–≥–æ–¥–Ω—è –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è —É {name}!"
    return None

def check_upcoming_birthdays(current_month, current_day):
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ –¥–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ –∑–∞ 3 –¥–Ω—è –∏ –±–ª–∏–∂–µ)"""
    today = datetime.now()
    
    for (month, day), name in BIRTHDAYS.items():
        # –°–æ–∑–¥–∞–µ–º –¥–∞—Ç—É –¥–Ω—è —Ä–æ–∂–¥–µ–Ω–∏—è –≤ —Ç–µ–∫—É—â–µ–º –≥–æ–¥—É
        birthday_this_year = datetime(today.year, month, day)
        
        # –ï—Å–ª–∏ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è —É–∂–µ –ø—Ä–æ—à–µ–ª –≤ —ç—Ç–æ–º –≥–æ–¥—É, –±–µ—Ä–µ–º —Å–ª–µ–¥—É—é—â–∏–π –≥–æ–¥
        if birthday_this_year < today:
            birthday_next_year = datetime(today.year + 1, month, day)
            days_until = (birthday_next_year - today).days
        else:
            days_until = (birthday_this_year - today).days
        
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è —Ç–æ–ª—å–∫–æ –∑–∞ 3 –¥–Ω—è –∏ –±–ª–∏–∂–µ
        if days_until == 3:
            return f"üìÖ –ß–µ—Ä–µ–∑ 3 –¥–Ω—è –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è —É {name}! –ù–µ –∑–∞–±—É–¥—å –ø–æ–∑–¥—Ä–∞–≤–∏—Ç—å!"
        elif days_until == 2:
            return f"üìÖ –ü–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è —É {name}! –ü–æ–¥–≥–æ—Ç–æ–≤—å –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ!"
        elif days_until == 1:
            return f"üìÖ –ó–∞–≤—Ç—Ä–∞ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è —É {name}! –ü–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏!"
        elif days_until == 0:
            return f"üéÇ –°–µ–≥–æ–¥–Ω—è –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è —É {name}!"
        # –ï—Å–ª–∏ –¥–Ω–µ–π –±–æ–ª—å—à–µ 3, –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ
    
    return None

def get_all_birthdays():
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–Ω–µ–π —Ä–æ–∂–¥–µ–Ω–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏"""
    result = "üìÖ –í—Å–µ –¥–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è:\n"
    for (month, day), name in sorted(BIRTHDAYS.items()):
        month_names = {
            1: "—è–Ω–≤–∞—Ä—è", 2: "—Ñ–µ–≤—Ä–∞–ª—è", 3: "–º–∞—Ä—Ç–∞", 4: "–∞–ø—Ä–µ–ª—è",
            5: "–º–∞—è", 6: "–∏—é–Ω—è", 7: "–∏—é–ª—è", 8: "–∞–≤–≥—É—Å—Ç–∞",
            9: "—Å–µ–Ω—Ç—è–±—Ä—è", 10: "–æ–∫—Ç—è–±—Ä—è", 11: "–Ω–æ—è–±—Ä—è", 12: "–¥–µ–∫–∞–±—Ä—è"
        }
        result += f"‚Ä¢ {day} {month_names[month]} - {name}\n"
    return result
